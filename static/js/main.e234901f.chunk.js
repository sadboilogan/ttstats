(this.webpackJsonpttstats=this.webpackJsonpttstats||[]).push([[0],{363:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));var r=a(87),n=a(88),l=a(90),s=a(89),u=a(91),c=a(0),i=a.n(c),o=a(364),m=function(t){function a(t){var n;return Object(r.a)(this,a),(n=Object(l.a)(this,Object(s.a)(a).call(this,t))).fetchServer=function(t,a){fetch((e?"":"https://cors-anywhere.herokuapp.com/")+"http://"+t.ip+"/status/widget/players.json").then((function(e){return e.json()})).then((function(e){n.setState((function(t){var r=t.servers;return r[a].isLoaded=!0,r[a].playersData=e.players,r[a].serverData=e.server,r[a].lastUpdate=Date.now(),{servers:r}}))}),(function(e){n.setState((function(t){var r=t.servers;return r[a].isLoaded=!0,r[a].error=e,{servers:r}}))}))},n.state={playerFinderMessages:"",playerFinderInputField:"",playerFinderFound:[],currentServerFocus:null,servers:o.map((function(e){return{error:null,isLoaded:!1,ip:e[0],name:e[1],playersData:null,serverData:null,lastUpdate:null}}))},n}return Object(u.a)(a,t),Object(n.a)(a,[{key:"updatePlayersList",value:function(e){this.setState({currentServerFocus:e})}},{key:"closePlayersList",value:function(){this.setState({currentServerFocus:null})}},{key:"handlePlayersNameInput",value:function(e){this.setState({playerFinderInputField:e.target.value})}},{key:"handlePlayerFinderSubmit",value:function(){if(!this.state.playerFinderInputField||this.state.playerFinderInputField.length<1)return this.setState({playerFinderMessages:"Invalid name or in-game id"});var e=this.state.playerFinderInputField.toLocaleLowerCase(),t=[];this.state.servers.forEach((function(a){null!==a.playersData&&a.playersData.forEach((function(r){var n=r[0]+"#"+r[2];n.toLowerCase().includes(e)&&t.push([n,a.ip,a.name,r[3],r[5]])}))})),t.length>0?this.setState({playerFinderMessages:"Found "+t.length+" player"+(1===t.length?"":"s"),playerFinderFound:t}):this.setState({playerFinderMessages:"Found nothing",playerFinderFound:[]})}},{key:"renderPlayersFinder",value:function(){var e=this;return i.a.createElement("div",{id:"playerFinder"},i.a.createElement("h2",null,"Player Finder:"),i.a.createElement("form",null,i.a.createElement("input",{type:"text",placeholder:"Player's name or in-game id",onChange:function(t){return e.handlePlayersNameInput(t)}}),i.a.createElement("input",{type:"button",value:"search",onClick:function(){return e.handlePlayerFinderSubmit()}})),i.a.createElement("div",null,i.a.createElement("p",null,this.state.playerFinderMessages),i.a.createElement("table",{id:"playersFound"},i.a.createElement("tbody",null,this.state.playerFinderFound.map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e[0],console.log(e)),i.a.createElement("td",null,e[1]),i.a.createElement("td",null,e[2]),i.a.createElement("td",null,i.a.createElement("img",{src:e[3],class:"avatar",alt:"avatar"})),i.a.createElement("td",null,e[4]))}))))))}},{key:"refreshServers",value:function(){this.state.servers.forEach(this.fetchServer)}},{key:"renderPlayersList",value:function(){var e,t=this;return null!==this.state.currentServerFocus&&(e=0===this.state.servers[this.state.currentServerFocus].playersData.length?i.a.createElement("div",null,i.a.createElement("h2",null,"Selected Server Is Empty")):i.a.createElement("div",null,i.a.createElement("h2",null,"Players List On ",this.state.servers[this.state.currentServerFocus].name," ",i.a.createElement("input",{type:"button",value:"CLOSE",onClick:function(){return t.closePlayersList()}}),i.a.createElement("br",null),"IP: ",i.a.createElement("a",{href:"fivem://connect/"+this.state.servers[this.state.currentServerFocus].ip},this.state.servers[this.state.currentServerFocus].ip)," "),i.a.createElement("table",{id:"playersList"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"Name"),i.a.createElement("th",null,"ID"),i.a.createElement("th",null,"Avatar")),this.state.servers[this.state.currentServerFocus].playersData.map((function(e,t){return i.a.createElement("tr",{key:e[2]},i.a.createElement("td",null,t+1),i.a.createElement("td",null,e[0]),i.a.createElement("td",null,e[2]),i.a.createElement("td",null,e[3]?i.a.createElement("img",{src:e[3]||"#",height:"50px",alt:"img"}):i.a.createElement("div",{className:"no-avatar"})))})))),i.a.createElement("h2",null,"Updated on ",new Date(this.state.servers[this.state.currentServerFocus].lastUpdate).toTimeString()))),e}},{key:"componentDidMount",value:function(){this.refreshServers()}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("input",{type:"button",value:"Refresh Servers",onClick:function(){return e.refreshServers()}}),i.a.createElement("h2",null,"Transport Tycoon Servers List"),i.a.createElement("table",{id:"serversList"},i.a.createElement("tbody",null,this.state.servers.map((function(t,a){return t.error?i.a.createElement("tr",{key:a},i.a.createElement("td",null,t.ip),i.a.createElement("td",null,t.name),i.a.createElement("td",null,"-/-"),i.a.createElement("td",{style:{color:"red"}},"Offline"),i.a.createElement("td",null),i.a.createElement("td",null)):t.isLoaded?i.a.createElement("tr",{key:a},i.a.createElement("td",null,t.ip),i.a.createElement("td",null,t.name),i.a.createElement("td",null,t.playersData.length,"/",t.serverData.limit),i.a.createElement("td",{style:{color:"blue"}},"Online"),i.a.createElement("td",null,t.lastUpdate),i.a.createElement("td",null,i.a.createElement("input",{type:"button",value:"Players",onClick:function(){return e.updatePlayersList(a)}}))):i.a.createElement("tr",{key:a},i.a.createElement("td",null,t.ip),i.a.createElement("td",null,t.name),i.a.createElement("td",null,"-/-"),i.a.createElement("td",{style:{color:"grey"}},"Loading"),i.a.createElement("td",null),i.a.createElement("td",null))})))),i.a.createElement("br",null),this.renderPlayersList(),i.a.createElement("hr",null),this.renderPlayersFinder())}}]),a}(i.a.Component)}).call(this,a(399))},364:function(e){e.exports=JSON.parse('[["145.239.150.71:30120","Server #1"],["145.239.150.71:30122","Server #2"],["145.239.150.71:30123","Server #3"],["145.239.150.71:30124","Server #4"],["145.239.150.71:30125","Server #5 (Beta)"],["54.37.88.125:30120","Server #6"],["54.37.88.125x:30122","Server #7"],["54.37.88.125:30123","Server #8"],["54.37.88.125:30124","Server #9"],["54.37.88.125:30125x","Server #A"]]')},367:function(e,t,a){e.exports=a(404)},397:function(e,t,a){},398:function(e,t,a){},404:function(e,t,a){"use strict";a.r(t);a(93),a(103),a(104),a(105),a(106),a(107),a(108),a(109),a(110),a(111),a(112),a(113),a(114),a(115),a(116),a(156),a(158),a(159),a(160),a(161),a(162),a(163),a(165),a(166),a(120),a(170),a(171),a(66),a(175),a(176),a(178),a(179),a(180),a(181),a(182),a(183),a(184),a(185),a(186),a(187),a(188),a(189),a(190),a(191),a(193),a(194),a(195),a(196),a(197),a(198),a(128),a(199),a(201),a(203),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(130),a(218),a(219),a(220),a(221),a(223),a(224),a(225),a(226),a(227),a(229),a(231),a(233),a(234),a(236),a(237),a(238),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(131),a(257),a(258),a(259),a(260),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(133),a(280),a(281),a(282),a(283),a(284),a(285),a(286),a(84),a(287),a(288),a(290),a(291),a(292),a(293),a(294),a(295),a(296),a(297),a(298),a(299),a(300),a(301),a(302),a(303),a(304),a(305),a(306),a(307),a(308),a(309),a(310),a(311),a(312),a(313),a(316),a(317),a(318),a(319),a(320),a(321),a(322),a(323),a(324),a(325),a(326),a(327),a(328),a(329),a(330),a(331),a(332),a(333),a(334),a(335),a(336),a(337),a(338),a(339),a(340),a(341),a(342),a(343),a(344),a(345),a(346),a(347),a(348),a(349),a(351),a(352),a(354),a(355),a(356),a(357),a(359),a(141),a(380),a(388);var r=a(0),n=a.n(r),l=a(362),s=a.n(l),u=(a(397),a(87)),c=a(88),i=a(90),o=a(89),m=a(91),d=a(70),h=a(45),v=(a(398),a(363)),E=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(d.a,{basename:"ttstats"},n.a.createElement("header",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(d.b,{to:"/"},"Page 1")),n.a.createElement("li",null,n.a.createElement(d.b,{to:"?servers"},"Servers")),n.a.createElement("li",null,n.a.createElement(d.b,{to:"?playerfinder"},"Player Finder")))),n.a.createElement("main",null,n.a.createElement(h.b,{component:function(t){switch(t.location.search){case"?playerfinder":return n.a.createElement(y,{data:e});case"?servers":return n.a.createElement(v.a,null);case"":return n.a.createElement(p,null);default:return n.a.createElement(h.a,{to:"/"})}}})),n.a.createElement("footer",null,n.a.createElement("p",null,"Footer")))}}]),t}(n.a.Component);function p(){return n.a.createElement("div",null,n.a.createElement("h2",null,"sgasgsdagsd"))}function y(e){return n.a.createElement("div",null,n.a.createElement("h2",null,"PlayerFinder"))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[367,1,2]]]);
//# sourceMappingURL=main.e234901f.chunk.js.map